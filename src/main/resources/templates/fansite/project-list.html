<!DOCTYPE html>
<html lang="ja" xmlns:th="http://www.thymeleaf.org"
    xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity6">


<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>企画一覧</title>
    <link rel="icon" th:href="@{/img/zoutohana-jitsubutsu.png}">
    <link rel="stylesheet" th:href="@{/css/main.css}" href="../../static/css/main.css">
    <link rel="stylesheet" th:href="@{/css/fansite/project-list.css}" href="../../static/css/fansite/project-list.css">
</head>

<body>
    <div th:replace="~{layout :: header}"></div>

    <div class="container">
        <div class="breadcrumb-box">
            <div class="breadcrumb"><a th:href="@{/}">ホーム</a></div>
            <div class="breadcrumb-middle">></div>
            <div class="breadcrumb">企画一覧</div>
        </div>
        <div class="list-box">
            <div class="list-title">
                <h2>Projects</h2>
                <div class="list-border"></div>
            </div>
            <p>企画一覧</p>
        </div>
        <section class="projects-box">

            <div class="tab-wrapper">
                <a class="a-text tab" th:href="@{/projects(s=${'ongoing'})}">
                    <div th:classappend="${status ? 'active' : ''}">
                        開催中
                        <span th:if="${status}" class="marker"></span>
                    </div>
                </a>
                <a class="a-text tab" th:href="@{/projects(s=${'past'})}">
                    <div th:classappend="${!status ? 'active' : ''}">
                        過去の企画
                        <span th:unless="${status}" class="marker"></span>
                    </div>
                </a>
            </div>

            <div class="card-box">
                <div class="card" th:each="project : ${projects}">
                    <a th:href="@{/project/{urlKey}(urlKey = ${project.urlKey})}" href="" class="a-text">
                        <div class="card-image-wrapper">
                            <div th:text="${project.name}"
                                th:style="'background-color: ' + ${project.themeColor.getDbValue()}" class="badge">文庫X
                                2.0</div>
                            <img th:if="${project.mainImgUrl == null}" th:src="@{/img/img.png}" alt="商品画像"
                                src="../../static/img/img.png">
                            <img th:unless="${project.mainImgUrl == null}"
                                th:src="@{|/api/image/${project.mainImgUrl}|}">
                        </div>
                        <div class="card-content">
                            <div class="date-row">
                                <span class="date-label">開催期間</span>
                                <span
                                    th:text="${#temporals.format(project.projectStartAt, 'yyyy.MM.dd') + ' - ' + #temporals.format(project.projectEndAt, 'yyyy.MM.dd')}">2025.01.01
                                    - 2025.01.01</span>
                            </div>
                            <p th:text="${project.introduction}" class="description">
                                文庫Xとは、書店員が「読んでほしい」と思った1冊を、タイトルも著者名も隠して販売するプロモーション企画です。
                                今回は第二弾です。
                            </p>
                        </div>
                        <div th:if="${status}" class="flow-situation">
                            <h2>現在</h2>
                            <p th:text="${project.projectStatus.label}" th:style="'color: ' + ${project.themeColor} + ';'" id="status-text">投稿受付前</p>
                            <h2>です</h2>
                        </div>
                    </a>
                </div>
            </div>
        </section>
    </div>
    <div th:replace="~{layout :: footer}"></div>
    <script th:src="@{/js/hamburger.js}"></script>
</body>
</html>

