<!-- 【利用者詳細】 -->
<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title th:text="${user.nickname} + ' | 利用者詳細'">データが取得できませんでした:ニックネーム | 利用者詳細</title>
    <link rel="icon" th:href="@{/img/zoutohana-jitsubutsu.png}">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
    <link rel="stylesheet" href="../../static/css/admin/admin-style.css" th:href="@{/css/admin/admin-style.css}">
</head>
<body>
    <div th:replace="~{layout-admin :: header}"></div>

    <main id="admin-main">
      <a href="account_list.html" th:href="@{/admin/account/list}" class="icon-center review-card-sub-info text-decoration-none hover-bold">
        <span class="material-symbols-outlined">keyboard_double_arrow_left</span>利用者一覧に戻る
      </a>
      <h1 class="page-title">
        <span class="material-symbols-outlined scale-bigger text-gray mr-2">account_circle</span>
        利用者詳細
      </h1>

      <div class="main-content">
        <div class="main-content-card w-full p-8 mb-8">
          <div class="table-border-b-strong pb-4">
            <h2 class="user-card-title" th:text="${user.nickname}">データが取得できませんでした:ニックネーム</h2>
            <p class="review-card-sub-info pl-4" th:text="'ログインID : ' + ${user.loginId}">データが取得できませんでした:企画名</p>
          </div>
          <div class="table-border-b-strong py-4"> <!-- ステータス部分 -->
            <label>ステータス</label>
            <div class="radio-wrap ml-4">
              <form method="POST" th:action="@{/admin/account/view}" class="flex flex-wrap gap-4">
                <input type="hidden" name="id" th:value="${user.id}">
                <label class="icon-center">
                  <input type="radio" name="status" value="ACTIVE" class="scale-bigger ml-4" th:checked="${user.status.label == '有効'}">
                  <p class="flex flex-col">
                    <span class="mr-auto">有効</span>
                    <span th:if="${user.status.label == '有効'}" class="font-sm text-gray">(現在のステータス)</span>
                  </p>
                </label>
                <label class="icon-center">
                  <input type="radio" name="status" value="SUSPENDED" class="scale-bigger ml-4" th:checked="${user.status.label == '停止'}">
                  <p class="flex flex-col">
                    <span class="mr-auto">停止</span>
                    <span th:if="${user.status.label == '停止'}" class="font-sm text-gray">(現在のステータス)</span>
                  </p>
                </label>
                <label class="icon-center">
                  <input type="radio" name="status" value="BAN" class="scale-bigger ml-4" th:checked="${user.status.label == '無効'}">
                  <p class="flex flex-col">
                    <span class="mr-auto">無効</span>
                    <span th:if="${user.status.label == '無効'}" class="font-sm text-gray">(現在のステータス)</span>
                  </p>
                </label>
                <button type="submit" class="btn">更新</button>
              </form>
            </div>
          </div>
          <div class="py-4">
            <table>
              <tr>
                <th>性別 : </th>
                <td th:text="${user.gender.label}">-----</td>
              </tr>
              <tr>
                <th>生年(年齢) : </th>
                <td th:text="${user.birthYear} + '年 (' + ${user.age} + '歳)'">0000年 (0歳)</td>
              </tr>
              <tr>
                <th>居住地</th>
                <td th:text="${user.address}">-----県 -----市</td>
              </tr>
            </table>
            <p class="font-bold">自己紹介 : </p>
            <pre th:text="${user.selfIntroduction}">-----</pre>
          </div>
        </div>

        <div class="w-full mb-8">
          <h2 class="page-title-sub">
            <span class="material-symbols-outlined text-gray">note_stack</span>
            この利用者が投稿した書評
          </h2>
          <div th:if="${!#lists.isEmpty(reviews)}" class="grid-2 gap-4 mt-2">
            <div class="main-content-card p-8" th:each="review : ${reviews}">
              <div class="flex gap-4 justify-between table-border-b-strong pb-4">
                <div>
                  <h3 class="review-card-title" th:text="${review.reviewTitle}">データが取得できませんでした:書評タイトル</h3>
                  <p class="review-card-sub-info pl-4" th:text="'企画名 : ' + ${review.projectName}">データが取得できませんでした:企画名</p>
                </div>
                <div class="review-card-status" th:if="${review.status != 'INITIAL'}">
                  <span th:if="${review.status == 'FIRST_STAGE_PASSED'}">一次審査通過</span>
                  <span th:if="${review.status == 'SECOND_STAGE_PASSED'}">ノミネート</span>
                  <span th:if="${review.status == 'AWARDED'}">大賞</span>
                </div>
              </div>
              <div class="flex justify-between pt-4">
                <div>
                  <p th:text="'投稿日時 : ' + ${#temporals.format(review.createdAt, 'yyyy/MM/dd HH:mm')}">0000/00/00 00:00</p>
                  <p th:text="'更新日時 : ' + ${#temporals.format(review.updatedAt, 'yyyy/MM/dd HH:mm')}">0000/00/00 00:00</p>
                </div>
                <a href="review_edit.html" th:href="@{/admin/review/view(id=${review.id})}" class="icon-center review-card-sub-info text-decoration-none hover-bold">詳細を確認する<span class="material-symbols-outlined">keyboard_double_arrow_right</span></a>
              </div>
            </div>
          </div>
          <div th:if="${#lists.isEmpty(reviews)}" class="main-content-card p-8 mt-4">
            <p class="text-center">この利用者は書評を作成していません</p>
          </div>
        </div>

        <div class="w-full mb-8">
          <h2 class="page-title-sub">
            <span class="material-symbols-outlined text-gray">stacked_email</span>
            この利用者に送った個別通知
          </h2>
          <div th:if="${!#lists.isEmpty(notifications)}" class="grid-2 gap-4 mt-2">
            <div class="main-content-card p-8" th:each="notification : ${notifications}">
              <div class="flex gap-4 justify-between table-border-b-strong pb-4">
                <div>
                  <h3 class="review-card-title" th:text="${notification.title}"></h3>
                  <p class="review-card-sub-info pl-4" th:text="'送信先書評 : ' + ${notification.reviewTitle}">データが取得できませんでした:企画名</p>
                </div>
              </div>
              <div class="table-border-b-strong py-4">
                <pre th:text="${notification.content}"></pre>
              </div>
              <div class="pt-4">
                <p th:text="'更新日時 : ' + ${#temporals.format(notification.createdAt, 'yyyy/MM/dd HH:mm')}" class="text-right">0000/00/00 00:00</p>
              </div>
            </div>
          </div>
          <div th:if="${#lists.isEmpty(notifications)}" class="main-content-card p-8 mt-4">
            <p class="text-center">この利用者には個別通知を送信していません</p>
          </div>
        </div>
      </div>
    </main>

    <script src="../../static/js/admin/admin-general.js" th:src="@{/js/admin/admin-general.js}"></script>
</body>
</html>
