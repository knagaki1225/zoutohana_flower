<!DOCTYPE html>

<html lang="ja" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>書評投稿</title>
    <link rel="icon" th:href="@{/img/zoutohana-jitsubutsu.png}">
    <link rel="stylesheet" th:href="@{/css/books/book-review.css}" href="../css/books/Book-review.css">
    <link rel="stylesheet" th:href="@{/css/main.css}" href="../css/main.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

</head>

<body>
    <header class="signup-header">
        <div class="step-indicator">
            <div class="step">
                <div class="step-number">1</div>
                <div class="step-label">書籍の登録</div>
            </div>
            <div class="step-line-box">
                <div class="step-line"></div>
            </div>
            <div class="step">
                <div class="step-number">2</div>
                <div class="step-label">書評の入力</div>
            </div>
            <div class="step-line-box">
                <div class="step-line"></div>
            </div>
            <div class="step active">
                <div class="step-number">3</div>
                <div class="step-label">内容の確認</div>
            </div>
        </div>
    </header>

    <main>
        <div class="form-container">
            <p class="intro-text">登録内容に誤りがないか、よくご確認ください</p>
            <div class="info-box">
                <div class="details-list">
                    <h2 th:text="${reviewForm.bookTitle}" class="book-title" id="result-title">（タイトル）</h2>
                    <div class="book-info-wrapper">
                        <img th:src="'https://ndlsearch.ndl.go.jp/thumbnail/' + ${reviewForm.isbn} +'.jpg'" src="" alt="書影" class="book-cover" id="result-cover">
                        <div class="book-details">
                            <div class="detail-item">
                                <label>著者</label>
                                <p id="result-author" th:text="${reviewForm.author}">（著者）</p>
                            </div>
                            <div class="detail-item">
                                <label>出版社</label>
                                <p id="result-publisher" th:text="${reviewForm.publisher}">（出版社）</p>
                            </div>
                        </div>
                    </div>
                    <div class="detail-top">
                        <div class="detail-item">
                            <label class="label-border">書評タイトル</label>
                            <div th:text="${reviewForm.reviewTitle}" class="value-display" id="result-review-title">
                            </div>
                        </div>
                        <div class="detail-item">
                            <label class="label-border">書評内容</label>
                            <div th:text="${reviewForm.reviewContent}" class="value-display-bio" id="result-review-content">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="btn-review-box">

                <form th:if="${draft}" th:action="@{/review/draft/confirm(id=${id})}" method="post" th:object="${reviewForm}">

                    <input type="hidden" th:field="*{projectId}">
                    <input type="hidden" th:field="*{bookTitle}">
                    <input type="hidden" th:field="*{author}">
                    <input type="hidden" th:field="*{publisher}">
                    <input type="hidden" th:field="*{isbn}">
                    <input type="hidden" th:field="*{reviewTitle}">

                    <input type="hidden" th:field="*{reviewContent}">

                    <div class="btn-review-box">
                        <div class="btn-shadow">
                            <button type="submit" th:formaction="@{/review/rewrite}" class="btn-review btn-register  btn-color-left">書評入力へ戻る</button>
                        </div>

                        <div class="btn-shadow">
                            <button type="submit" class="btn-review btn-register btn-color-right">投稿する</button>
                        </div>
                    </div>

                </form>
                <form th:unless="${draft}" th:action="@{/review/confirm(id=${id})}" method="post" th:object="${reviewForm}">

                    <input type="hidden" th:field="*{projectId}">
                    <input type="hidden" th:field="*{bookTitle}">
                    <input type="hidden" th:field="*{author}">
                    <input type="hidden" th:field="*{publisher}">
                    <input type="hidden" th:field="*{isbn}">
                    <input type="hidden" th:field="*{reviewTitle}">

                    <input type="hidden" th:field="*{reviewContent}">

                    <div class="btn-review-box">
                        <div class="btn-shadow">
                            <button type="submit" th:formaction="@{/review/rewrite}" class="btn-review btn-register  btn-color-left">書評入力へ戻る</button>
                        </div>

                        <div class="btn-shadow">
                            <button type="submit" class="btn-review btn-register btn-color-right">投稿する</button>
                        </div>
                    </div>

                </form>

            </div>
        </div>
    </main>
</body>

</html>